#%Module -*- tcl -*-
##
## modulefile
##
## Built by J.H. and L.C. on Legion on 2018-16-08

proc ModulesHelp { } {

    puts stderr "This module adds the cytofpipe_array package to your environment."
    puts stderr ""
    puts stderr ""
    puts stderr "The cytofpipe pipeline was developed by Lucia Conde at the BLIC in"
    puts stderr "collaboration with Jake Henry for the automatic analysis"
    puts stderr "of CyToF and Flow data. Cytofpipe_array submits a job array of"
    puts stderr "cytofpipe runs and generates summary files"
    puts stderr ""
    puts stderr "NOTE:  This is version v0.1"
    puts stderr ""
}

module-whatis "Adds cytofpipe_array (v0.1 version) to your environment."

module unload compilers
module unload mpi
#â€“ this was the old r/recommended
module load gcc-libs            
module load compilers/gnu/4.9.2 
module load openblas/0.2.14/gnu-4.9.2
module load mpi/openmpi/1.10.1/gnu-4.9.2
module load java/1.8.0_92
module load fftw/3.3.4/gnu-4.9.2
module load ghostscript/9.19/gnu-4.9.2
module load texinfo/5.2/gnu-4.9.2
module load texlive/2015
module load gsl/1.16/gnu-4.9.2
module load hdf/5-1.8.15/gnu-4.9.2
module load netcdf/4.3.3.1/gnu-4.9.2
module load udunits/2.2.20/gnu-4.9.2
module load jags/4.2.0/gnu.4.9.2-openblas
module load root/5.34.30/gnu-4.9.2
module load glpk/4.60/gnu-4.9.2
module load perl/5.22.0
module load libtool/2.4.6
module load graphicsmagick/1.3.21
module load python2/recommended
module load gdal/2.0.0
module load gmt/recommended
module load proj.4/4.9.1
module load geos/3.5.0/gnu-4.9.2
module load protobuf/12-2017/gnu-4.9.2
module load jq/1.5/gnu-4.9.2
module load r/3.4.2-openblas/gnu-4.9.2

set              cytofpipe_home    /shared/ucl/depts/cancer/apps/cytofpipe/v1.3
set              cytofpipe_array_home    /shared/ucl/depts/cancer/apps/cytofpipe_array/v0.1
setenv           CYTOFPIPE_HOME    $cytofpipe_home
setenv           CYTOFPIPE_ARRAY_HOME    $cytofpipe_array_home
setenv           R_MAX_NUM_DLLS    256

prepend-path     PATH              $::env(MODULESHOME)/bin
prepend-path     PATH              $cytofpipe_home
prepend-path     R_LIBS            $cytofpipe_home/Rlibs

set-alias        cytofpipe_array         "perl $cytofpipe_array_home/cytofpipe_array.pl" 
